<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui" 
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml" 
             x:Class="AcademiaDoZe.Presentation.AppMaui.Views.LogradouroPage" 
             xmlns:vm="clr-namespace:AcademiaDoZe.Presentation.AppMaui.ViewModels" 
             x:DataType="vm:LogradouroViewModel" 
             Title="{Binding Title}"
             BackgroundColor="White">
    <Grid>
        <ScrollView>
            <StackLayout Padding="20" Spacing="20">
                <Label Text="{Binding Title}" FontSize="28" FontAttributes="Bold" HorizontalTextAlignment="Center"/>
                <Frame CornerRadius="10" Padding="15">
                    <Frame.Background>
                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                            <GradientStop Color="#B0B0B0" Offset="0.0"/>
                            <GradientStop Color="#404040" Offset="1.0"/>
                        </LinearGradientBrush>
                    </Frame.Background>
                    <StackLayout Spacing="5">
                        <Label Text="CEP" FontAttributes="Bold"/>
                        <Grid ColumnDefinitions="*,Auto">
                            <Entry Grid.Column="0" Text="{Binding Logradouro.Cep}" Placeholder="00000-000" Keyboard="Numeric" Margin="0,0,10,0"/>
                            <Button Grid.Column="1" Text="Buscar CEP" Command="{Binding SearchByCepCommand}" HeightRequest="40"/>
                        </Grid>
                    </StackLayout>
                </Frame>
                <Frame CornerRadius="10" Padding="15">
                    <Frame.Background>
                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                            <GradientStop Color="#B0B0B0" Offset="0.0"/>
                            <GradientStop Color="#404040" Offset="1.0"/>
                        </LinearGradientBrush>
                    </Frame.Background>
                    <StackLayout Spacing="15">
                        <Label Text="{Binding Logradouro.Id, StringFormat='Logradouro ID: {0}'}" FontSize="18" FontAttributes="Bold" TextColor="Gray"/>
                        <StackLayout Spacing="5">
                            <Label Text="Nome/Rua"/>
                            <Entry Text="{Binding Logradouro.Nome}" Placeholder="Digite o nome da rua..."/>
                        </StackLayout>
                        <StackLayout Spacing="5">
                            <Label Text="Bairro"/>
                            <Entry Text="{Binding Logradouro.Bairro}" Placeholder="Digite o bairro..."/>
                        </StackLayout>
                        <StackLayout Spacing="5">
                            <Label Text="Cidade"/>
                            <Entry Text="{Binding Logradouro.Cidade}" Placeholder="Digite a cidade..."/>
                        </StackLayout>
                        <StackLayout Spacing="5">
                            <Label Text="Estado"/>
                            <Entry Text="{Binding Logradouro.Estado}" Placeholder="Digite o estado..."/>
                        </StackLayout>
                        <StackLayout Spacing="5">
                            <Label Text="País"/>
                            <Entry Text="{Binding Logradouro.Pais}" Placeholder="Digite o país..."/>
                        </StackLayout>
                    </StackLayout>
                </Frame>
                <Grid ColumnDefinitions="*,*" ColumnSpacing="10">
                    <Button Grid.Column="0" Text="Cancelar" Command="{Binding CancelCommand}" HeightRequest="50" BackgroundColor="#CCCCCC" TextColor="Black"/>
                    <Button Grid.Column="1" Text="Salvar" Command="{Binding SaveLogradouroCommand}" HeightRequest="50" BackgroundColor="#007AFF" TextColor="White"/>
                </Grid>
            </StackLayout>
        </ScrollView>
        <Grid IsVisible="{Binding IsBusy}" BackgroundColor="#80000000" VerticalOptions="Fill" HorizontalOptions="Fill">
            <ActivityIndicator IsRunning="True" VerticalOptions="Center" HorizontalOptions="Center" Color="White"/>
        </Grid>
    </Grid>
</ContentPage>
